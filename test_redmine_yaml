---
- name: Determine PV Device Path using SCSI ID
  hosts: debian_servers
  gather_facts: false
  vars:
    prefix: "scsi-0QEMU_QEMU_HARDDISK_drive-"

  tasks:
    - name: Get details of the Redmine
      ansible.builtin.uri:
        url: "https://redmine.aurorabilisim.com/issues/52816.json"
        method: Get
        headers:
          X-Redmine-API-Key: "29b144abe0e04817020654eaeb6742f2bc640d80"
          Content-Type: "application/json"
        status_code: 200 # Explicitly expecting a 200 OK response
        body_format: json
      register: redmine_issue_response

    - name: Get the SCSI ID from the issue description
      set_fact:
        scsi_ID: "{{ redmine_issue_response.json.issue.description }}"
      # project:  # required. Name of the project containing the issue. Must exist previously.
      # subject:  # required. The issue subject.
      # issue_type:  # required. The issue type. Must exist previously.
      # status: New # not required. The issue status. Must exist previously.
      # severity: Normal # not required. The issue severity. Must exist previously.
      # description:  # not required. The issue description.
      # state: present # not required. choices: present;absent. Whether the issue should be present or not.